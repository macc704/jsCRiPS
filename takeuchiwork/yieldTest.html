<!DOCTYPE html>
<meta charset="utf-8">
<script src="./ConcurrentThread.js"></script>
<script src="./jscrips.js"></script>
<script>
    var mth = {};
    function main() {
        mth = Thread.create(function () {
            for (var i = 4; i < 10; i++) {
                for (var j = 0; j < 4; j++) {
                    fd(i * 10);
                    th.join();
                    rt(90);
                    th.join();
                }
                rt(30);
                th.join();
            }
        })
    }
    window.onload = main();

    // うまく動かず
    function restart() {
        var canvas = document.getElementById('turtleCanvas');
        if (!canvas.getContext) {
            return;
        }
        var ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        canvas = document.getElementById('locusCanvas');
        ctx = canvas.getContext('2d');
        if (!canvas.getContext) {
            return;
        }
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        th.kill();
        mth.kill();
        main();

    }
</script>

<style type="text/css">
    canvas {
        border: 1px solid #999;
        position: absolute;
    }
</style>

<body>
速<input type="range" name="moveSpeed" min="0" max="20" step="2"
        value="10" onchange="changeSpeed(this.value)">遅
<input type="button" value="再描画" onclick="restart()">
<br>
<canvas id="locusCanvas" width="600" height="600"></canvas>
<canvas id="turtleCanvas" width="600" height="600"></canvas>
</body>